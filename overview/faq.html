<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frequently Asked Questions | abcjs</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="JavaScript library for displaying sheet music in a browser.">
    <link rel="preload" href="/abcjs/assets/css/0.styles.74501182.css" as="style"><link rel="preload" href="/abcjs/assets/js/app.29aca4e6.js" as="script"><link rel="preload" href="/abcjs/assets/js/4.ebaebf76.js" as="script"><link rel="preload" href="/abcjs/assets/js/36.1d34cd40.js" as="script"><link rel="prefetch" href="/abcjs/assets/js/1.c36a78b3.js"><link rel="prefetch" href="/abcjs/assets/js/10.ad21f4c1.js"><link rel="prefetch" href="/abcjs/assets/js/11.4568330f.js"><link rel="prefetch" href="/abcjs/assets/js/12.a50f6a05.js"><link rel="prefetch" href="/abcjs/assets/js/13.99ea695d.js"><link rel="prefetch" href="/abcjs/assets/js/14.7358932e.js"><link rel="prefetch" href="/abcjs/assets/js/15.4926248b.js"><link rel="prefetch" href="/abcjs/assets/js/16.3716f9c3.js"><link rel="prefetch" href="/abcjs/assets/js/17.9d7c6fec.js"><link rel="prefetch" href="/abcjs/assets/js/18.3d5038e0.js"><link rel="prefetch" href="/abcjs/assets/js/19.30512e08.js"><link rel="prefetch" href="/abcjs/assets/js/2.9178afba.js"><link rel="prefetch" href="/abcjs/assets/js/20.e786d468.js"><link rel="prefetch" href="/abcjs/assets/js/21.d1990a1b.js"><link rel="prefetch" href="/abcjs/assets/js/22.97beea28.js"><link rel="prefetch" href="/abcjs/assets/js/23.35f7c510.js"><link rel="prefetch" href="/abcjs/assets/js/24.96b83ece.js"><link rel="prefetch" href="/abcjs/assets/js/25.15109139.js"><link rel="prefetch" href="/abcjs/assets/js/26.8602e581.js"><link rel="prefetch" href="/abcjs/assets/js/27.4315db99.js"><link rel="prefetch" href="/abcjs/assets/js/28.7fdc114a.js"><link rel="prefetch" href="/abcjs/assets/js/29.f16bcff1.js"><link rel="prefetch" href="/abcjs/assets/js/30.b6fa6dc5.js"><link rel="prefetch" href="/abcjs/assets/js/31.1d75c9be.js"><link rel="prefetch" href="/abcjs/assets/js/32.c2279321.js"><link rel="prefetch" href="/abcjs/assets/js/33.7f1cb1da.js"><link rel="prefetch" href="/abcjs/assets/js/34.b592944a.js"><link rel="prefetch" href="/abcjs/assets/js/35.523626d0.js"><link rel="prefetch" href="/abcjs/assets/js/37.3c8b50cf.js"><link rel="prefetch" href="/abcjs/assets/js/38.4254e851.js"><link rel="prefetch" href="/abcjs/assets/js/39.d06bdb36.js"><link rel="prefetch" href="/abcjs/assets/js/40.f54526b9.js"><link rel="prefetch" href="/abcjs/assets/js/41.489b1157.js"><link rel="prefetch" href="/abcjs/assets/js/42.b8e09ad0.js"><link rel="prefetch" href="/abcjs/assets/js/43.c7d070ff.js"><link rel="prefetch" href="/abcjs/assets/js/44.9775804a.js"><link rel="prefetch" href="/abcjs/assets/js/45.d652c9a1.js"><link rel="prefetch" href="/abcjs/assets/js/46.ca32c532.js"><link rel="prefetch" href="/abcjs/assets/js/47.5d906fae.js"><link rel="prefetch" href="/abcjs/assets/js/5.7788e3eb.js"><link rel="prefetch" href="/abcjs/assets/js/6.a19824ad.js"><link rel="prefetch" href="/abcjs/assets/js/7.d1c1a03f.js"><link rel="prefetch" href="/abcjs/assets/js/8.9ad3993e.js"><link rel="prefetch" href="/abcjs/assets/js/9.92996d6e.js">
    <link rel="stylesheet" href="/abcjs/assets/css/0.styles.74501182.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/abcjs/" class="home-link router-link-active"><img src="/abcjs/img/abcjs_comp_extended_08.svg" alt="abcjs" class="logo"> <span class="site-name can-hide">abcjs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Overview</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/abcjs/overview/purpose.html" class="sidebar-link">Purpose</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/overview/purpose.html#uses" class="sidebar-link">Uses</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/purpose.html#not" class="sidebar-link">NOT</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/purpose.html#browser-device-support" class="sidebar-link">Browser/device support</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/purpose.html#supported-by-browserstack" class="sidebar-link">Supported by BrowserStack</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/purpose.html#license" class="sidebar-link">License</a></li></ul></li><li><a href="/abcjs/overview/examples.html" class="sidebar-link">Examples</a></li><li><a href="/abcjs/overview/getting-started.html" class="sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/overview/getting-started.html#which-flavor-should-you-use" class="sidebar-link">Which flavor should you use?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/getting-started.html#simplest-usage" class="sidebar-link">Simplest Usage</a></li></ul></li><li><a href="/abcjs/overview/example-generator.html" class="sidebar-link">Example Generator</a></li><li><a href="/abcjs/overview/abc-notation.html" class="sidebar-link">ABC Music Notation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/overview/abc-notation.html#subtractions-from-the-standard" class="sidebar-link">Subtractions from the standard</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/abc-notation.html#additions-to-the-standard" class="sidebar-link">Additions to the standard</a></li></ul></li><li><a href="/abcjs/overview/faq.html" aria-current="page" class="active sidebar-link">Frequently Asked Questions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-do-i-make-a-playback-widget" class="sidebar-link">How do I make a playback widget?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#which-scripts-do-i-need-to-include" class="sidebar-link">Which scripts do I need to include?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project" class="sidebar-link">How do I use the sound fonts I have saved locally in my ABCJS project?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget" class="sidebar-link">I’m trying to get the names of notes on click and it doesn’t work. I’ve got a visual rendering of my tune, but no playback widget.</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#can-i-use-abcjs-in-react-native-other-mobile-development-frameworks" class="sidebar-link">Can I use ABCJS in React Native/other mobile development frameworks?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-do-i-use-abcjs-in-a-server-side-rendering-app" class="sidebar-link">How do I use ABCJS in a server-side rendering app?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio" class="sidebar-link">Why do I have to wait until the user interacts with the page to create the audio?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-do-i-get-the-audio-to-start-right-away" class="sidebar-link">How do I get the audio to start right away?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page" class="sidebar-link">How do I prevent this error?: “The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page.”</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that" class="sidebar-link">I want to replace all the notes with custom glyphs/symbols. How can I do that?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#how-can-i-manipulate-the-horizontal-positioning-of-the-notes-e-g-if-i-want-the-notes-to-be-horizontally-centered" class="sidebar-link">How can I manipulate the horizontal positioning of the notes — e.g., if I want the notes to be horizontally centered?</a></li><li class="sidebar-sub-header"><a href="/abcjs/overview/faq.html#i-m-having-difficulty-transposing-my-tune" class="sidebar-link">I’m having difficulty transposing my tune.</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Visual</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Audio</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Animation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interactive</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Analysis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deprecated</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Upgrading</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frequently-asked-questions"><a href="#frequently-asked-questions" class="header-anchor">#</a> Frequently Asked Questions</h1> <h2 id="how-do-i-make-a-playback-widget"><a href="#how-do-i-make-a-playback-widget" class="header-anchor">#</a> How do I make a playback widget?</h2> <p>See the <a href="/abcjs/audio/synthesizer-sandbox.html">sandbox</a> to get started. You can tailor the audio control to your needs.</p> <h2 id="which-scripts-do-i-need-to-include"><a href="#which-scripts-do-i-need-to-include" class="header-anchor">#</a> Which scripts do I need to include?</h2> <h3 id="for-node"><a href="#for-node" class="header-anchor">#</a> For node:</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> abcjs --save-dev
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> abcjs <span class="token keyword">from</span> <span class="token string">&quot;abcjs&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="for-plain-javascript"><a href="#for-plain-javascript" class="header-anchor">#</a> For plain javascript:</h3> <p>Download the file <code>dist/abcjs-basic-min.js</code> to your project. Then at the top of your file:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/abcjs-basic-min.js&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project"><a href="#how-do-i-use-the-sound-fonts-i-have-saved-locally-in-my-abcjs-project" class="header-anchor">#</a> How do I use the sound fonts I have saved locally in my ABCJS project?</h2> <p>See the <a href="/abcjs/audio/synthesizer-sandbox.html">sandbox</a> to see the syntax.</p> <h2 id="i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget"><a href="#i-m-trying-to-get-the-names-of-notes-on-click-and-it-doesn-t-work-i-ve-got-a-visual-rendering-of-my-tune-but-no-playback-widget" class="header-anchor">#</a> I’m trying to get the names of notes on click and it doesn’t work. I’ve got a visual rendering of my tune, but no playback widget.</h2> <p>There is some optional extra information that can be added to the music structure. This is added when creating the synth but it isn't added by default so that the code isn't unnecessarily executed for users who don't need it.</p> <p>To add that information:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> visualObj <span class="token operator">=</span> abcjs<span class="token punctuation">.</span><span class="token function">renderAbc</span><span class="token punctuation">(</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
visualObj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setUpAudio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="can-i-use-abcjs-in-react-native-other-mobile-development-frameworks"><a href="#can-i-use-abcjs-in-react-native-other-mobile-development-frameworks" class="header-anchor">#</a> Can I use ABCJS in React Native/other mobile development frameworks?</h2> <p>ABJS needs a DOM to 1) calculate how much space the notes will take up once rendered, and 2) render the notes as an SVG. This makes integrating ABCJS with frameworks like React Native that don’t use a DOM less than straightforward.</p> <p>An approach by Matthew Dorner: His app, react-native-songbook, relies on react-native-svg (via standalone-vexflow-context) to draw to the SVG. You might also try experimenting with rendering the ABCJS elements in a React Native webview component, which supplies the required DOM, as a browser to an external page with ABCJS functionality, rather than as a native rendering engine. Kudos to @rpattcorner for this tip.</p> <h2 id="how-do-i-use-abcjs-in-a-server-side-rendering-app"><a href="#how-do-i-use-abcjs-in-a-server-side-rendering-app" class="header-anchor">#</a> How do I use ABCJS in a server-side rendering app?</h2> <p>If you are using Nuxt or Next or any other framework that builds the pages on the server before sending them to the client, you'll have to delay calling abcjs until you are in the client.</p> <p>Here's an example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> abcjs <span class="token operator">=</span> process<span class="token punctuation">.</span>browser <span class="token operator">?</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'abcjs'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>abcjs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	abcjs<span class="token punctuation">.</span><span class="token function">renderAbc</span><span class="token punctuation">(</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio"><a href="#why-do-i-have-to-wait-until-the-user-interacts-with-the-page-to-create-the-audio" class="header-anchor">#</a> Why do I have to wait until the user interacts with the page to create the audio?</h2> <p>Because browsers have placed constraints on AudioContexts to prevent developers from building websites that autoplay sound on page load, you can’t begin to buffer audio until the user makes some gesture on the page.</p> <h2 id="how-do-i-get-the-audio-to-start-right-away"><a href="#how-do-i-get-the-audio-to-start-right-away" class="header-anchor">#</a> How do I get the audio to start right away?</h2> <p>There is some network traffic and construction of the sound buffer that takes some time. This can be done a little bit ahead of time, so, as soon as the user interacts with the page and as soon as you know what music you want to play, you can begin the process. You'll notice that there are <code>init()</code> and <code>prime()</code> calls that return a promise. After those promises resolve clicking <code>play()</code> will be fast.</p> <h2 id="how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page"><a href="#how-do-i-prevent-this-error-the-audiocontext-was-not-allowed-to-start-it-must-be-resumed-or-created-after-a-user-gesture-on-the-page" class="header-anchor">#</a> How do I prevent this error?: “The AudioContext was not allowed to start. It must be resumed (or created) after a user gesture on the page.”</h2> <p>Don't call any audio-related functionality until the user has interacted with the page.</p> <h2 id="i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that"><a href="#i-want-to-replace-all-the-notes-with-custom-glyphs-symbols-how-can-i-do-that" class="header-anchor">#</a> I want to replace all the notes with custom glyphs/symbols. How can I do that?</h2> <p>After your call to renderAbc(), search for all items with the class &quot;abcjs-note&quot; and replace the path in them with your picture.
For this to work, call renderAbc with the parameter { add_classes: true }. Notice there are other things you can search for, like the staff line of the note so you can have different pictures for different notes.</p> <h2 id="how-can-i-manipulate-the-horizontal-positioning-of-the-notes-e-g-if-i-want-the-notes-to-be-horizontally-centered"><a href="#how-can-i-manipulate-the-horizontal-positioning-of-the-notes-e-g-if-i-want-the-notes-to-be-horizontally-centered" class="header-anchor">#</a> How can I manipulate the horizontal positioning of the notes — e.g., if I want the notes to be horizontally centered?</h2> <p>You can use <code>%%staffwidth 400</code> to pick the number of pixels that the staff will take. You can experiment with that to get it to look right. You can also use <code>%%stretchlast</code> to stretch the last line of music out. Also, <code>staffwidth</code> can be passed in to the <code>renderAbc</code> function. Also, see the wrap.html demo.</p> <h2 id="i-m-having-difficulty-transposing-my-tune"><a href="#i-m-having-difficulty-transposing-my-tune" class="header-anchor">#</a> I’m having difficulty transposing my tune.</h2> <p>Visual and audio transposition are handled separately to suit situations where a musician might want the sheet music transposed but not the audio playback, and vice-versa. For examples of how to handle both forms of transposition, see basic-transpose.html and editor-transpose.html.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/abcjs/overview/abc-notation.html" class="prev">
        ABC Music Notation
      </a></span> <span class="next"><a href="/abcjs/visual/overview.html">
        Overview (renderAbc)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/abcjs/assets/js/app.29aca4e6.js" defer></script><script src="/abcjs/assets/js/4.ebaebf76.js" defer></script><script src="/abcjs/assets/js/36.1d34cd40.js" defer></script>
  </body>
</html>
